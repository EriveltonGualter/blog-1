
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="https://blog.alexandrevicenzi.com/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://blog.alexandrevicenzi.com/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="https://blog.alexandrevicenzi.com/theme/font-awesome/css/font-awesome.min.css">

    <link href="https://blog.alexandrevicenzi.com/static/custom.css" rel="stylesheet">

    <link href="https://blog.alexandrevicenzi.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Alexandre Vicenzi's Blog Atom">


    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<meta name="author" content="Alexandre Vicenzi" />
<meta name="description" content="With NodeMCU HTTP Module we can GET/POST/PUT/DELETE over HTTP(S), as well as customized requests. If you ever used any other programming language you know how easy is to make an HTTP request. Today, we're going to call Pushbullet API. So, what's Pushbullet? Pushbullet bridges ..." />
<meta name="keywords" content="lua, nodemcu, esp, pushbullet">
<meta property="og:site_name" content="Alexandre Vicenzi's Blog"/>
<meta property="og:title" content="Posting to Pushbullet with NodeMCU"/>
<meta property="og:description" content="With NodeMCU HTTP Module we can GET/POST/PUT/DELETE over HTTP(S), as well as customized requests. If you ever used any other programming language you know how easy is to make an HTTP request. Today, we're going to call Pushbullet API. So, what's Pushbullet? Pushbullet bridges ..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://blog.alexandrevicenzi.com/nodemcu-pushbullet-notifiocation.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-08-24 08:00:00-04:00"/>
<meta property="article:modified_time" content="2016-08-24 08:00:00-04:00"/>
<meta property="article:author" content="https://blog.alexandrevicenzi.com/author/alexandre-vicenzi.html">
<meta property="article:section" content="Embedded Systems"/>
<meta property="article:tag" content="lua"/>
<meta property="article:tag" content="nodemcu"/>
<meta property="article:tag" content="esp"/>
<meta property="article:tag" content="pushbullet"/>
<meta property="og:image" content="//s.gravatar.com/avatar/5dc5ba59a94eeab2106ad9d397361b2c?s=120">

  <title>Alexandre Vicenzi's Blog &ndash; Posting to Pushbullet with NodeMCU</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6625957038449899",
      enable_page_level_ads: true
    });
  </script>
</head>
<body>
  <aside>
    <div>
      <a href="https://blog.alexandrevicenzi.com">
        <img src="//s.gravatar.com/avatar/5dc5ba59a94eeab2106ad9d397361b2c?s=120" alt="Alexandre Vicenzi" title="Alexandre Vicenzi">
      </a>
      <h1><a href="https://blog.alexandrevicenzi.com">Alexandre Vicenzi</a></h1>

<p>Sotfware Engineer - Maker</p>
      <nav>
        <ul class="list">
          <li><a href="https://blog.alexandrevicenzi.com/pages/about.html#about">About</a></li>
          <li><a href="https://blog.alexandrevicenzi.com/pages/contact.html#contact">Contact</a></li>

          <li><a href="http://alexandrevicenzi.com" target="_blank">Portfolio</a></li>
        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-linkedin" href="https://br.linkedin.com/in/alexandrevicenzi/en" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-github" href="https://github.com/alexandrevicenzi" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-google" href="https://google.com/+AlexandreVicenzi" target="_blank"><i class="fa fa-google"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/alxvicenzi" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-rss" href="//blog.alexandrevicenzi.com/feeds/all.atom.xml" target="_blank"><i class="fa fa-rss"></i></a></li>
      </ul>
    </div>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-aside"
           data-ad-client="ca-pub-6625957038449899"
           data-ad-slot="5340595560"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

  </aside>
  <main>

    <nav>
      <a href="https://blog.alexandrevicenzi.com">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://blog.alexandrevicenzi.com/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
    <h1 id="nodemcu-pushbullet-notifiocation">Posting to Pushbullet with NodeMCU</h1>
    <p>
          Posted on August 24, 2016 in <a href="https://blog.alexandrevicenzi.com/category/embedded-systems.html">Embedded Systems</a>


        &#8226; 1 min read
    </p>
  </header>


  <div>
    <p>With <a href="https://nodemcu.readthedocs.io/en/master/en/modules/http/">NodeMCU HTTP Module</a> we can GET/POST/PUT/DELETE over HTTP(S), as well as customized requests. If you ever used any other programming language you know how easy is to make an HTTP request.</p>
<p>Today, we're going to call <a href="https://www.pushbullet.com">Pushbullet</a> API. So, what's Pushbullet?</p>
<blockquote>
<p>Pushbullet bridges the gap between your phone, tablet, and computer, enabling them to work better together. From seeing your phone's notifications on your computer, to easily transferring links, files, and more between devices.</p>
</blockquote>
<p>Pushbullet is a great tool to get notifications on your phone. Let's assume we have a fire sensor at home. If the fire sensor detects something, it would be good to be notified if we aren't at home. We can do this over Pushbullet or another platform.</p>
<p>The sample code below shows how to send the current IP.</p>
<div class="highlight"><pre><span></span><span class="c1">-- your setup.</span>
<span class="n">PUSHBULLET_TOKEN</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="s">&#39;</span>
<span class="n">WIFI_SSID</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="s">&#39;</span>
<span class="n">WIFI_PASSWORD</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="s">&#39;</span>

<span class="n">wifi</span><span class="p">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">wifi</span><span class="p">.</span><span class="n">STATION</span><span class="p">)</span>

<span class="c1">-- on connect send the current IP to pushbullet.</span>
<span class="n">wifi</span><span class="p">.</span><span class="n">sta</span><span class="p">.</span><span class="n">eventMonReg</span><span class="p">(</span><span class="n">wifi</span><span class="p">.</span><span class="n">STA_GOTIP</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span>
    <span class="n">ip</span> <span class="o">=</span> <span class="n">wifi</span><span class="p">.</span><span class="n">sta</span><span class="p">.</span><span class="n">getip</span><span class="p">()</span>

    <span class="n">http</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">https://api.pushbullet.com/v2/pushes&#39;</span><span class="p">,</span>
              <span class="s1">&#39;</span><span class="s">Content-Type: application/json</span><span class="se">\r\n</span><span class="s">Access-Token: &#39;</span><span class="o">..</span> <span class="n">PUSHBULLET_TOKEN</span> <span class="o">..</span><span class="s1">&#39;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">,</span>
              <span class="s1">&#39;</span><span class="s">{&quot;body&quot;:&quot;IP: &#39;</span><span class="o">..</span> <span class="n">ip</span> <span class="o">..</span><span class="s1">&#39;</span><span class="s">&quot;, &quot;title&quot;:&quot;ESP Connected&quot;, &quot;type&quot;:&quot;note&quot;}&#39;</span><span class="p">,</span>
    <span class="k">function</span> <span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="c1">-- print the response code. 200 if success.</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">end</span><span class="p">)</span>
<span class="k">end</span><span class="p">)</span>

<span class="c1">-- configure wifi and connect.</span>
<span class="n">wifi</span><span class="p">.</span><span class="n">sta</span><span class="p">.</span><span class="n">config</span><span class="p">(</span><span class="n">WIFI_SSID</span><span class="p">,</span> <span class="n">WIFI_PASSWORD</span><span class="p">)</span>
<span class="n">wifi</span><span class="p">.</span><span class="n">sta</span><span class="p">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>


<p>This is a very simple example but is good enough for testing purpose.</p>
<p><strong>Reference</strong></p>
<ul>
<li><a href="https://docs.pushbullet.com/">Pushbullet API</a></li>
<li><a href="https://nodemcu.readthedocs.io/en/master/en/modules/http/">NodeMCU HTTP Module</a></li>
</ul>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://blog.alexandrevicenzi.com/tag/lua.html">lua</a>
      <a href="https://blog.alexandrevicenzi.com/tag/nodemcu.html">nodemcu</a>
      <a href="https://blog.alexandrevicenzi.com/tag/esp.html">esp</a>
      <a href="https://blog.alexandrevicenzi.com/tag/pushbullet.html">pushbullet</a>
    </p>
  </div>

  <div class="center social-share">
    <p>    Like this article? Share it with your friends!
</p>
    <div class="addthis_native_toolbox"></div>
    <div class="addthis_sharing_toolbox"></div>
  </div>


    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="ca-pub-6625957038449899"
         data-ad-slot="7257980762"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'alexandrevicenziblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
</article>

    <footer>
<p>
  &copy; Alexandre Vicenzi 2016 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
<!-- StatusCake -->
<a href="https://www.statuscake.com" title="Alexandre Vicenzi's Blog Uptime">
  <img src="https://www.statuscake.com/App/button/index.php?Track=SL0UAgrsYP&amp;Days=7&amp;Design=6" alt="Alexandre Vicenzi's Blog Uptime"/>
</a>

<script type="text/javascript">var SC_RumID = 6852;</script>
<script type="text/javascript" async src="https://www.statuscake.com/App/RUM/embed.js"></script>
<!-- End StatusCake --></p>    </footer>
  </main>

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55543164-3', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55adbb025d4f7e55" async="async"></script>


<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Alexandre Vicenzi's Blog ",
  "url" : "https://blog.alexandrevicenzi.com",
  "image": "//s.gravatar.com/avatar/5dc5ba59a94eeab2106ad9d397361b2c?s=120",
  "description": "Alexandre Vicenzi's Thoughts and Writings"
}
</script>
</body>
</html>